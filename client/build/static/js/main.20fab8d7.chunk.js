(this["webpackJsonpreel-ppl"]=this["webpackJsonpreel-ppl"]||[]).push([[0],{110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),c=a(43),i=a.n(c),r=a(5),l=(a(75),a(8)),o=(a(76),a(11)),d=a(53),j=a(68),m=(a(77),[{title:"Restaurants",path:"/restaurants",cName:"dropdown-menu__link"},{title:"Things To Do",path:"/thingstodo",cName:"dropdown-menu__link"},{title:"Tours",path:"/tours",cName:"dropdown-menu__link"}]),u=a(3),b=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(u.jsx)("ul",{onClick:function(){return s(!a)},className:a?"dropdown-menu clicked":"dropdown-menu",children:m.map((function(e,t){return Object(u.jsx)("li",{className:"dropdown-menu__li",children:Object(u.jsx)(o.b,{className:e.cName,to:e.path,onClick:function(){return s(!1)},children:e.title})},t)}))})},_=(a(87),function(){var e=Object(n.useContext)(W).localCart;return Object(u.jsx)(o.b,{to:"/planner",className:"button",children:Object(u.jsxs)("button",{className:"button__btn",children:["Planner ",Object(u.jsx)("span",{className:"button__span",children:e.length||0})]})})}),O=a(25),h=(a(89),a(46)),x=function(){return Object(u.jsxs)("button",{className:"add-biz",children:[Object(u.jsx)(h.a,{className:"add-biz__plus"})," ",Object(u.jsx)("span",{className:"add-biz__span",children:"Add Business"})]})},p=(a(90),a(28)),v=a.n(p),N=function(e){var t=e.showAddModal,a=e.setShowAddModal,s=Object(O.useSpring)({config:{duration:250},opacity:t?1:0,transform:t?"scale(1)":"scale(0)"}),c=Object(n.useContext)(W).setBusinesses,i=Object(n.useState)(),l=Object(r.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(),m=Object(r.a)(j,2),b=m[0],_=m[1],h=Object(n.useState)(),x=Object(r.a)(h,2),p=x[0],N=x[1],f=Object(n.useState)(),g=Object(r.a)(f,2),C=g[0],k=g[1],S=Object(n.useState)(),y=Object(r.a)(S,2),w=y[0],E=y[1],I=Object(n.useState)(),T=Object(r.a)(I,2),A=T[0],B=T[1],M=Object(n.useState)(),F=Object(r.a)(M,2),J=F[0],R=F[1],D=Object(n.useState)(),z=Object(r.a)(D,2),L=z[0],P=z[1],G=Object(n.useState)(!1),H=Object(r.a)(G,2),V=H[0],Y=H[1];Object(n.useEffect)((function(){v.a.get("https://hi-traveler.herokuapp.com/businesses").then((function(e){c(e.data)}))}),[V,c]);var Z=Object(n.useRef)();return Object(u.jsx)(u.Fragment,{children:t?Object(u.jsx)("div",{className:"add-modal",ref:Z,onClick:function(e){Z.current===e.target&&a(!1)},children:Object(u.jsx)(O.animated.div,{style:s,children:Object(u.jsx)("div",{className:"add-modal__container",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("name",o),t.append("type",b),t.append("street",p),t.append("city",C),t.append("number",w),t.append("website",A),t.append("image",J),t.append("description",L),v.a.post("https://hi-traveler.herokuapp.com/businesses",t).then((function(e){return console.log(e)})),a(!1),Y(!V)},autoComplete:"off",children:[Object(u.jsxs)("div",{className:"add-modal__name-container",children:[Object(u.jsx)("label",{htmlFor:"name",className:"add-modal__name-label",children:"Business Name"}),Object(u.jsx)("input",{className:"add-modal__input",type:"text",placeholder:"Enter business name",name:"name",onChange:function(e){var t=e.target.value;d(t)},autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"add-modal__type-container",children:[Object(u.jsx)("label",{htmlFor:"type",className:"add-modal__type-label",children:"Business Type"}),Object(u.jsxs)("select",{className:"add-modal__input-select",name:"type",onChange:function(e){var t=e.target.value;_(t)},children:[Object(u.jsx)("option",{defaultValue:"",children:"Select Type"}),Object(u.jsx)("option",{value:"restaurant",children:"Restaurant"}),Object(u.jsx)("option",{value:"attraction",children:"Attraction"}),Object(u.jsx)("option",{value:"tour",children:"Tour"})]})]}),Object(u.jsxs)("div",{className:"add-modal__file-container",children:[Object(u.jsx)("label",{htmlFor:"",className:"add-modal__file-label",children:"Business Image"}),Object(u.jsx)("input",{type:"file",name:"image",onChange:function(e){var t=e.target.files[0];R(t)}})]}),Object(u.jsxs)("div",{className:"add-modal__street-container",children:[Object(u.jsx)("label",{htmlFor:"",className:"add-modal__street-label",children:"Street Address"}),Object(u.jsx)("input",{type:"text",className:"add-modal__input",placeholder:"Enter street here",name:"street",onChange:function(e){var t=e.target.value;N(t)},autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"add-modal__city-container",children:[Object(u.jsx)("div",{className:"add-modal__city-label",children:"City & Zipcode"}),Object(u.jsx)("input",{type:"text",className:"add-modal__input",placeholder:"Enter city & zipcode here",name:"city",onChange:function(e){var t=e.target.value;k(t)},autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"add-modal__number-container",children:[Object(u.jsx)("div",{className:"add-modal__number-label",children:"Business Number"}),Object(u.jsx)("input",{type:"text",className:"add-modal__input",placeholder:"Enter number here",name:"number",onChange:function(e){var t=e.target.value;E(t)},autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"add-modal__website-container",children:[Object(u.jsx)("div",{className:"add-modal__website-label",children:"Website"}),Object(u.jsx)("input",{autoComplete:"off",type:"text",name:"website",className:"add-modal__input",placeholder:"Enter website here",onChange:function(e){var t=e.target.value;B(t)}})]}),Object(u.jsxs)("div",{className:"add-modal__description-container",children:[Object(u.jsx)("div",{className:"add-modal__description-label",children:"Description"}),Object(u.jsx)("textarea",{name:"description",className:"add-modal__input-textarea",placeholder:"Enter business description here",onChange:function(e){var t=e.target.value;P(t)},autoComplete:"off",style:{resize:"none"}})]}),Object(u.jsx)("button",{type:"submit",className:"add-modal__btn",children:"Submit"})]})})})}):null})},f=function(){var e=Object(n.useContext)(W).localCart,t=Object(n.useState)(!1),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(r.a)(i,2),m=l[0],h=l[1],p=Object(n.useState)(!1),v=Object(r.a)(p,2),f=v[0],g=v[1],C=Object(n.useState)(!1),k=Object(r.a)(C,2),S=k[0],y=k[1],w=Object(O.useTransition)(m,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}}),E=function(){return c(!s)},I=function(){return c(!1)};Object(n.useEffect)((function(){window.innerWidth<768&&g(!0)}),[]),window.addEventListener("resize",(function(){window.innerWidth<768?g(!0):g(!1)}));var T=function(){y((function(e){return!e}))};return Object(u.jsxs)("nav",{className:"nav",children:[Object(u.jsx)(N,{showAddModal:S,setShowAddModal:y}),Object(u.jsx)("div",{className:"nav__logo-container",children:Object(u.jsx)(o.b,{to:"/",onClick:I,children:Object(u.jsx)("div",{className:"nav__logo"})})}),Object(u.jsxs)("div",{className:"nav__bars-container nav__bars-container--desktop",children:[Object(u.jsx)("div",{className:"nav__mobile",onClick:T,children:Object(u.jsx)(x,{})}),s?Object(u.jsx)(d.b,{className:"nav__x-icon",onClick:E}):Object(u.jsx)(d.a,{className:"nav__bars-icon",onClick:E})]}),Object(u.jsxs)("ul",{className:s?"nav__menu active":"nav__menu",children:[Object(u.jsx)("li",{className:"nav__menu-item",children:Object(u.jsx)(o.b,{to:"/",className:"nav__link",onClick:I,children:"Home"})}),Object(u.jsx)("li",{className:"nav__menu-item",children:Object(u.jsx)(o.b,{to:"/all",className:"nav__link",onClick:I,children:"All"})}),f?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{className:"nav__menu-item",children:Object(u.jsx)(o.b,{to:"/restaurants",className:"nav__link",onClick:I,children:"Restaurants"})}),Object(u.jsx)("li",{className:"nav__menu-item",children:Object(u.jsx)(o.b,{to:"/thingstodo",className:"nav__link",onClick:I,children:"Things To Do"})}),Object(u.jsx)("li",{className:"nav__menu-item",children:Object(u.jsx)(o.b,{to:"/tours",className:"nav__link",onClick:I,children:"Tours"})})]}):Object(u.jsxs)("li",{className:"nav__menu-item",onMouseEnter:function(){window.innerWidth>768?h(!0):h(!1)},onMouseLeave:function(){window.innerWidth>768?h(!1):h(!0)},children:[Object(u.jsxs)(o.b,{to:"#",className:"nav__link dropdown",children:["Categories ",Object(u.jsx)(j.a,{className:"nav__link-caret"})]}),w((function(e,t){return t?Object(u.jsx)(O.animated.div,{className:"itemAnimate",style:e,children:Object(u.jsx)(b,{})}):""}))]}),Object(u.jsx)("li",{className:"nav__menu-item nav__menu-item--btn",children:Object(u.jsxs)(o.b,{to:"/planner",className:"nav__link nav__link--container nav__link--mobile",onClick:I,children:["Planner"," ",Object(u.jsx)("span",{className:"nav__link-span",children:e.length||0})]})})]}),Object(u.jsx)(_,{className:"nav__btn nav__mobile",localCart:e}),Object(u.jsx)("div",{className:"nav__tablet",onClick:T,children:Object(u.jsx)(x,{})})]})},g=(a(110),a(111),a(40)),C=a(39),k=(a(112),a(69)),S=a(70),y=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),s=a[0],c=a[1],i=e.showModal,l=e.setShowModal,o=e.data,d=Object(n.useRef)(),j=Object(n.useContext)(W).setBusinesses,m=Object(O.useSpring)({config:{duration:250},opacity:i?1:0,transform:i?"scale(1)":"scale(0)"});return Object(n.useEffect)((function(){v.a.get("https://hi-traveler.herokuapp.com/businesses").then((function(e){j(e.data)}))}),[s,j]),Object(u.jsx)(u.Fragment,{children:i?Object(u.jsx)("div",{className:"modal",ref:d,onClick:function(e){d.current===e.target&&l(!1)},children:Object(u.jsx)(O.animated.div,{style:m,children:Object(u.jsxs)("div",{className:"modal__container",children:[Object(u.jsx)("div",{className:"modal__photo",style:{backgroundImage:"url(".concat(o.image,")")}}),Object(u.jsxs)("div",{className:"modal__main",children:[Object(u.jsxs)("div",{className:"modal__main-upper",children:[Object(u.jsx)("div",{className:"modal__x-container",children:Object(u.jsx)(k.a,{className:"modal__x-icon",onClick:function(){return l((function(e){return!e}))}})}),Object(u.jsxs)("div",{className:"modal__details-container",children:[Object(u.jsx)("div",{className:"modal__name",children:o.name}),Object(u.jsxs)("a",{className:"modal__btn-site",href:o.website,children:[Object(u.jsx)(C.a,{className:"modal__link-icon"})," Go To Site"]}),Object(u.jsxs)("div",{className:o.number&&"undefined"!==o.number?"modal__number":"modal--hidden",children:[Object(u.jsx)(g.a,{className:o.number?"modal__phone-icon":"modal--none"})," ",o.number]}),Object(u.jsxs)("div",{className:"modal__location-container",children:[Object(u.jsx)(C.b,{className:"modal__pin-icon"}),Object(u.jsxs)("div",{className:o.street?"modal__street":"modal--none",children:[o.street,",\xa0"]}),Object(u.jsx)("div",{className:"modal__city",children:o.city})]}),Object(u.jsx)("div",{className:"modal__description-container",children:Object(u.jsx)("p",{className:"modal__description",children:o.description})})]})]}),Object(u.jsxs)("div",{className:"modal__lower",children:[Object(u.jsxs)("div",{className:o.stars?"modal__stars-container":"modal--hidden",children:[Object(u.jsx)(g.b,{className:"modal__stars-icon"})," ",Object(u.jsx)("p",{className:"modal__stars",children:o.stars})]}),Object(u.jsxs)("div",{className:"modal__recommends-container",onClick:function(){return e=o.id,v.a.put("https://hi-traveler.herokuapp.com/businesses/".concat(e),{recommends:o.recommends+1}),void c(!s);var e},children:[Object(u.jsx)(S.a,{className:"modal__heart-icon"}),Object(u.jsx)("p",{className:"modal__recommended",children:"Recommend This"}),Object(u.jsx)("p",{className:"modal__recommended-number",children:o.recommends})]})]})]})]})})}):null})},w=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useContext)(W),l=i.localCart,o=i.setLocalCart,d=i.setPlannerCart,j=i.didChange,m=i.setDidChange;if(Object(n.useEffect)((function(){window.addEventListener("storage",(function(){o(JSON.parse(localStorage.getItem("planner"))||[])}))}),[j,o]),!e)return"";var b=e.item,_=b.name,O=b.stars,x=b.city,p=b.image,v=b.recommends,N=b.description,f=function(e){localStorage.getItem("planner")?JSON.parse(localStorage.getItem("planner")).find((function(t){return e.id===t.id}))||(l.push(e),localStorage.setItem("planner",JSON.stringify(l)),d(l)):(l.push(e),localStorage.setItem("planner",JSON.stringify(l)),d(l));m(!j)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"modal__fullpage",children:Object(u.jsx)(y,{showModal:s,setShowModal:c,data:e.item})}),Object(u.jsx)("div",{id:"outer__container",children:Object(u.jsxs)("div",{className:"item",children:[Object(u.jsxs)("div",{className:"item__main-container",onClick:function(){c((function(e){return!e}))},children:[Object(u.jsxs)("div",{className:"item__upper-container",children:[Object(u.jsx)("div",{className:"item__image",style:{backgroundImage:"url(".concat(p,")")},children:Object(u.jsx)("div",{className:"item__business-container"})}),Object(u.jsxs)("div",{className:"item__details",children:[Object(u.jsx)("h5",{className:"item__header",children:_}),Object(u.jsx)("p",{className:"item__description",children:N})]})]}),Object(u.jsxs)("div",{className:"item__lower-container",children:[Object(u.jsxs)("div",{className:"item__location-container",children:[Object(u.jsx)(C.b,{className:"item__location-icon"})," ",Object(u.jsx)("span",{className:"item__location-span",children:x})]}),Object(u.jsxs)("div",{className:"item__icons-container",children:[Object(u.jsxs)("div",{className:O?"item__stars":"item__stars--hidden",children:[Object(u.jsx)(g.b,{className:"item__star-icon"})," ",Object(u.jsx)("p",{className:"item__stars-span",children:O})]}),Object(u.jsxs)("div",{className:"item__recommends",children:[Object(u.jsx)("p",{className:"item__recommends-paragraph",children:v}),Object(u.jsx)("p",{className:"item__recommends-title",children:"Recommended"})]})]})]})]}),Object(u.jsxs)("button",{className:"item__btn",onClick:function(){return f(e.item)},children:[Object(u.jsx)(h.a,{className:"item__plus-icon",style:{stroke:"white",strokeWidth:"3"}})," ","Add to planner"]})]})})]})},E=a(121),I={in:{opacity:1},out:{opacity:0}},T={duration:.1},A=function(e){var t=e.businesses;if(!t)return"";var a=t.filter((function(e){return e.recommended}));return Object(u.jsxs)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:[Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)("div",{className:"home__header"}),Object(u.jsx)("div",{className:"home__main",children:Object(u.jsx)("div",{className:"home__recommend-container",children:Object(u.jsx)("div",{className:"home__recommend",children:a.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})})]}),Object(u.jsx)(y,{})]})},B=(a(113),function(){var e=Object(n.useContext)(W).localCart;return Object(u.jsx)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:Object(u.jsx)("div",{className:"planner",children:Object(u.jsx)("div",{className:"planner__list-container",children:e.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})})}),M=(a(114),function(e){var t=e.data;if(!t)return"";var a=t.filter((function(e){return"restaurant"===e.type}));return Object(u.jsx)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:Object(u.jsxs)("div",{className:"restaurants",children:[Object(u.jsx)("div",{className:"restaurants__header"}),Object(u.jsx)("div",{className:"restaurants__main",children:Object(u.jsx)("div",{className:"restaurants__list-container",children:a.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})]})})}),F=(a(115),function(e){var t=e.data;if(!t)return"";var a=t.filter((function(e){return"attraction"===e.type}));return Object(u.jsx)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:Object(u.jsxs)("div",{className:"to-do",children:[Object(u.jsx)("div",{className:"to-do__header"}),Object(u.jsx)("div",{className:"to-do__main",children:Object(u.jsx)("div",{className:"to-do__list-container",children:a.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})]})})}),J=(a(116),function(e){var t=e.data;if(!t)return"";var a=t.filter((function(e){return"tour"===e.type}));return Object(u.jsx)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:Object(u.jsxs)("div",{className:"tours",children:[Object(u.jsx)("div",{className:"tours__header"}),Object(u.jsx)("div",{className:"tours__main",children:Object(u.jsx)("div",{className:"tours__list-container",children:a.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})]})})}),R=(a(117),function(e){var t=e.data;return t?Object(u.jsx)(E.a.div,{initial:"out",animate:"in",exit:"out",variants:I,transition:T,children:Object(u.jsx)("div",{className:"all",children:Object(u.jsx)("div",{className:"all__business-list",children:t.map((function(e){return Object(u.jsx)(w,{item:e},e.id)}))})})}):""}),D=(a(118),function(){var e=(new Date).getFullYear();return Object(u.jsxs)("div",{className:"footer",children:[Object(u.jsx)("div",{className:"footer__logo"}),Object(u.jsxs)("div",{className:"footer__copyright",children:["\xa9 ",e," Island Traveler, All Rights Reserved"]})]})}),z=a(122),W=s.a.createContext(),L=function(){var e=Object(l.f)(),t=Object(n.useState)(),a=Object(r.a)(t,2),s=a[0],c=a[1],i=Object(n.useState)([]),o=Object(r.a)(i,2),d=o[0],j=o[1],m=Object(n.useState)(!1),b=Object(r.a)(m,2),_=b[0],O=b[1],h=Object(n.useState)(JSON.parse(localStorage.getItem("planner"))||d),x=Object(r.a)(h,2),p=x[0],N=x[1],g={localCart:p,setLocalCart:N,plannerCart:d,setPlannerCart:j,didChange:_,setDidChange:O,businesses:s,setBusinesses:c};return Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("planner"))&&N(JSON.parse(localStorage.getItem("planner"))),v.a.get("https://hi-traveler.herokuapp.com/businesses").then((function(e){c(e.data)}))}),[]),Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(W.Provider,{value:g,children:[Object(u.jsx)(f,{localCart:p,data:s,setBusinesses:c}),Object(u.jsx)("div",{className:"app__main",children:Object(u.jsx)(z.a,{children:Object(u.jsxs)(l.c,{location:e,children:[Object(u.jsx)(l.a,{path:"/",exact:!0,render:function(){return Object(u.jsx)(A,{businesses:s,setBusinesses:c})}}),Object(u.jsx)(l.a,{path:"/planner",exact:!0,component:B}),Object(u.jsx)(l.a,{path:"/restaurants",exact:!0,render:function(){return Object(u.jsx)(M,{data:s})}}),Object(u.jsx)(l.a,{path:"/thingstodo",exact:!0,render:function(){return Object(u.jsx)(F,{data:s})}}),Object(u.jsx)(l.a,{path:"/tours",exact:!0,render:function(){return Object(u.jsx)(J,{data:s})}}),Object(u.jsx)(l.a,{path:"/all",exact:!0,render:function(){return Object(u.jsx)(R,{data:s})}})]},e.pathname)})}),Object(u.jsx)(D,{})]})})};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(o.a,{children:Object(u.jsx)(L,{})})}),document.getElementById("root"))},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){}},[[119,1,2]]]);
//# sourceMappingURL=main.20fab8d7.chunk.js.map